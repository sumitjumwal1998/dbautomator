---
#playbook for grand privileges in a particular Database
- hosts: server
  gather_facts: true
  vars_prompt:
  - name: table_name
    prompt: Enter table name to run vacuum on table
    private: no
  tasks:
  - name: Run sql query on postgres
    shell: psql -c "VACCUM {{ table_name }};"
    register: op
    ignore_errors: true
  - name: print
      ansible.builtin.debug:
        var: table_name
  - debug:
      var: op
